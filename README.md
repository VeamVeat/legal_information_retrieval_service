# legal_information_retrieval_service

Задача: Вам необходимо создать сервис для извлечения юридической информации из дерева в форматах JSON и XML. Сервис должен состоять из следующих блоков: 

Принятие дерева извлечения: Сервис должен принимать дерево извлечения в форматах JSON и XML. Реализуйте функцию, которая будет принимать деревья и конвертировать их в нужный формат для дальнейшей обработки. 
Постпроцессинг. После перевода дерева в нужный формат реализуйте блок постпроцессинга, в котором на объединенное дерево извлечения применяются правила нормализации. Например, можно привести значения сущностей к определенному виду или привести их к единому формату. Реализуйте функции для применения этих правил нормализации на дерево извлечения. 
Реализуйте функции нормализации для следующих значений: 
Дата. Необходимо написать функцию приведения любых дат к определенному виду: ДД.ММ.ГГГГ. Примеры даты: 1 февраля 2022, 01.02.2022 года и т.д. (!) Учтите, что входящий текст может иметь артефакты.
Срок. Необходимо написать функцию приведения любых временных сроков в следующий формат: Г_М_Н_Д, где Г- это год, М- это месяц, Н – неделя, Д – день. Примеры сроков: 1 месяц, 2 года, три недели, через 2 дня, полгода (!) Учтите, что входящий текст может иметь артефакты.
На выходе сервиса должен получиться словарь. Ключ – путь до атрибута, Значение – значение атрибута.

Примеры деревьев:
Дерево №1
ДатаДокумента: 5 ноября 2022 года
Продавец[0]: Иванов Лев Давидович
Продавец[1]: Петрова Мария Васильевна
Оплата:
Сумма: 10000,00 рублей
Покупатель: ООО Управляющая компания «Арасака»
ПредметДоговора:
ВидОбъектаНедвижимости: ЗемельныйУчасток
ВидРазрешенногоИспользования: для сельскохозяйственного производства 
КадастровыйНомер: 1237:09234123532:4521
Площадь: 5 га
Дерево №2
Оплата:
СрокОплаты: в течении 30 дней со дня подписания договора
ПредметДоговора:
Адрес: Московская область, 5 км от ориентира Ракушки
ОбъектыНаЗемельномУчастке: здание
ОбъектыНаЗемельномУчастке: склад
ОбременениеОбъектаНедвижимости: ипотека
ОбъектПереданПокупателюДоДоговора: НЕТ
Выход сервиса:
{"ДатаДокумента": "05.11.2022",
 "Продавец": ["Иванов Лев Давидович", "Петрова Мария Васильевна"],
 "Оплата": {"СрокОплаты": "0_0_0_30", "Сумма": "10000,00 рублей"}
 ...}

Требования: 
- Сервис должен быть реализован на языке Python. 
- Сервис должен быть реализован в виде API, который будет принимать дерево в формате xml/json и возвращать результат обработки. 
- Код должен быть написан с соблюдением принципов чистого кода и хорошо структурирован. 

Удачи в выполнении задания! Если у вас возникнут вопросы, не стесняйтесь задавать.

## Project Setup

1. Clone the project and go to the directory with it:

```
https://github.com/VeamVeat/legal_information_retrieval_service.git
cd legal_information_retrieval_service && cd src
```

## Running the Service

The first tree in which the payment amount is indicated is loaded in the format xml!

### First Tree
{"\u0414\u0430\u0442\u0430\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430": "5 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433\u043e\u0434\u0430", "\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446[0]": "\u0418\u0432\u0430\u043d\u043e\u0432 \u041b\u0435\u0432 \u0414\u0430\u0432\u0438\u0434\u043e\u0432\u0438\u0447", "\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446[1]": "\u041f\u0435\u0442\u0440\u043e\u0432\u0430 \u041c\u0430\u0440\u0438\u044f \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432\u043d\u0430", "\u041e\u043f\u043b\u0430\u0442\u0430": {"\u0421\u0443\u043c\u043c\u0430": "10000,00 \u0440\u0443\u0431\u043b\u0435\u0439"}, "\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044c": "\u041e\u041e\u041e \u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u00ab\u0410\u0440\u0430\u0441\u0430\u043a\u0430\u00bb", "\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u0430": {"\u0412\u0438\u0434\u041e\u0431\u044a\u0435\u043a\u0442\u0430\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438": "\u0417\u0435\u043c\u0435\u043b\u044c\u043d\u044b\u0439\u0423\u0447\u0430\u0441\u0442\u043e\u043a", "\u0412\u0438\u0434\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u043e\u0433\u043e\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f": "\u0434\u043b\u044f \u0441\u0435\u043b\u044c\u0441\u043a\u043e\u0445\u043e\u0437\u044f\u0439\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430", "\u041a\u0430\u0434\u0430\u0441\u0442\u0440\u043e\u0432\u044b\u0439\u041d\u043e\u043c\u0435\u0440": "1237:09234123532:4521", "\u041f\u043b\u043e\u0449\u0430\u0434\u044c": "5 \u0433\u0430"}}

The second tree, in which the payment term is indicated, is loaded with the line!

### Second Tree
<?xml version="1.0"?>
    <Two_tree>
        <Оплата>
            <СрокОплаты>в течении 30 дней со дня подписания договора</СрокОплаты>
            <ПредметДоговора>
                <Адрес>Московская область, 5 км от ориентира Ракушки</Адрес>
                <ОбъектыНаЗемельномУчастке>здание</ОбъектыНаЗемельномУчастке>
				    <ОбъектыНаЗемельномУчастке>склад</ОбъектыНаЗемельномУчастке>
				    <ОбременениеОбъектаНедвижимости>ипотека</ОбременениеОбъектаНедвижимости>
				    <ОбъектПереданПокупателюДоДоговора>НЕТ</ОбъектПереданПокупателюДоДоговора>
				  </ПредметДоговора>
			  </Оплата>
			</Two_tree>


## Start Project

```
uvicorn main:app
```
